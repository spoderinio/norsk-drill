{% extends "base.html" %}

{% block content %}
<h2 style="margin-bottom: 2rem;">Manage Adjectives</h2>

<!-- Import Section -->
<div class="card" style="margin-bottom: 2rem;">
    <h3 style="margin-bottom: 1rem;">Import Adjectives</h3>
    
    <div style="margin-bottom: 2rem;">
        <h4 style="margin-bottom: 0.5rem;">Import from Text</h4>
        <p style="color: var(--text-secondary); margin-bottom: 1rem; font-size: 0.9rem;">
            Format: <code>base, neuter, plural â€“ translation1, translation2</code><br>
            Example: <code>stor, stort, store â€“ big, large, great</code>
        </p>
        <form action="/admin/adjectives/import-text" method="POST">
            <textarea name="text_data" rows="10" placeholder="Paste your text here (one adjective per line)" style="margin-bottom: 1rem;"></textarea>
            <button type="submit" class="btn">Import Text</button>
        </form>
    </div>

    <div>
        <h4 style="margin-bottom: 0.5rem;">Import from CSV (with Groups)</h4>
        <p style="color: var(--text-secondary); margin-bottom: 1rem; font-size: 0.9rem;">
            CSV with columns: <code>base,neuter,plural,translation,group,group_description</code><br>
            Translations can be separated by <code>|</code> or <code>,</code>
        </p>
        <form action="/admin/adjectives/import-csv" method="POST" enctype="multipart/form-data">
            <input type="file" name="file" accept=".csv" style="margin-bottom: 1rem;">
            <button type="submit" class="btn">Import CSV</button>
        </form>
        <p style="color: var(--text-secondary); font-size: 0.85rem; margin-top: 0.5rem;">
            ðŸ’¡ Download the ready CSV file: <a href="/static/adjectives_with_groups.csv" style="color: var(--accent);" download>adjectives_with_groups.csv</a>
        </p>
    </div>
</div>

<!-- Adjective List -->
<div class="card">
    <h3 style="margin-bottom: 1rem;">All Adjectives ({{ adjectives|length }})</h3>
    
    {% if adjectives %}
    <div style="overflow-x: auto;">
        <table style="width: 100%; border-collapse: collapse;">
            <thead>
                <tr style="border-bottom: 2px solid var(--border);">
                    <th style="padding: 0.75rem; text-align: left;">Base</th>
                    <th style="padding: 0.75rem; text-align: left;">Neuter</th>
                    <th style="padding: 0.75rem; text-align: left;">Plural</th>
                    <th style="padding: 0.75rem; text-align: left;">Translations</th>
                    <th style="padding: 0.75rem; text-align: left;">Group</th>
                    <th style="padding: 0.75rem; text-align: left;">Actions</th>
                </tr>
            </thead>
            <tbody>
                {% for adj in adjectives %}
                <tr style="border-bottom: 1px solid var(--border);">
                    <td style="padding: 0.75rem; font-weight: 600;">{{ adj.base }}</td>
                    <td style="padding: 0.75rem;">{{ adj.neuter or '-' }}</td>
                    <td style="padding: 0.75rem;">{{ adj.plural or '-' }}</td>
                    <td style="padding: 0.75rem;">{{ adj.translations|join(', ') }}</td>
                    <td style="padding: 0.75rem;">
                        {% if adj.group %}
                        <span style="background: var(--accent); color: white; padding: 0.25rem 0.5rem; border-radius: 0.25rem; font-size: 0.85rem; font-weight: 600;">
                            {{ adj.group }}
                        </span>
                        {% else %}
                        <span style="color: var(--text-secondary);">-</span>
                        {% endif %}
                    </td>
                    <td style="padding: 0.75rem;">
                        <form action="/admin/adjectives/{{ adj.id }}/delete" method="POST" style="display: inline;" onsubmit="return confirm('Delete this adjective?');">
                            <button type="submit" style="background: var(--error); color: white; border: none; padding: 0.25rem 0.75rem; border-radius: 0.25rem; cursor: pointer;">
                                Delete
                            </button>
                        </form>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    {% else %}
    <p style="color: var(--text-secondary); text-align: center; padding: 2rem;">No adjectives yet. Import some to get started!</p>
    {% endif %}
</div>
{% endblock %}
